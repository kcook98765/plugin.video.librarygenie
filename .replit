entrypoint = "main.py"
modules = ["python-3.11"]

[nix]
channel = "stable-24_05"

[unitTest]
language = "python3"

[gitHubImport]
requiredFiles = [".replit", "replit.nix"]

[deployment]
run = ["python3", "main.py"]
deploymentTarget = "cloudrun"

[workflows]

[[workflows.workflow]]
name = "Test LibraryGenie Database"
author = 20668690
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "python3 -c \""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "import sys"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "sys.path.append('.')"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "from resources.lib.config.config_manager import Config"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "from resources.lib.data.query_manager import QueryManager"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = ""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "print('Testing database setup...')"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "config = Config()"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "query_manager = QueryManager(config.db_path)"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "query_manager.setup_database()"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "print('Database setup completed successfully')"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "\""
